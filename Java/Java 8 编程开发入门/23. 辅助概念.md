# 23. 辅助概念

### final 关键字

final 称之为终结器。在Java中可以使用final定义类，方法，以及属性
1. 使用final定义的类不能再有子类。 一般在进行一些系统类的时候会使用到final，或者进行架构代码的开发，也会使用到final。
2. 使用final定义的类不能被子类覆写。
3. 使用final定义的变量就成了常量，常量必须在定义的时候设置好内容，不能被修改。使用常量可以利用一些变量名来描述一些数值。 
4. 全局常量

``` java
// 为了让程序中的常量与变量区分，所有的常量名称都要求全部使用大写字母表示
final double GOOD = 100.0 ;
double  good = 100.0;
public static final String MSG = "Hi";
```
static 的数据保存在公共数据区，所以MSG是公共常量。

### 多态性
多态性是面向对象的最后一个特征，它本身主要分为两个方面：
* 方法的多态性：重载与覆写
        1. 重载：同一个方法名称，根据参数类型以及个数完成不同功能；
        2. 覆写：通一个方法，根据操作的子类不同，所完成的功能也不同。
* 对象的多态性：发生在继承关系中，子类和父类之间的转换。 
    	1. 向上转型（自动完成）：子类对象变为父类对象，父类 父类对象 = 子类实例； 如 int -> long, 小范围变大范围
    	2. 向下转型 （强制完成）：父类对象变为子类对象，子类 子类对象 = (子类)父类实例; 如 long -> int，大范围变小范围

* 向上转型： 由于所有的子类对象实例都可以自动的向上转型，意义在于参数的统一。
* 向下转型： 指的是父类要调用子类自己特有的方法，父类只能调用自己有（并且被子类覆写的）方法。此时需要将父类强制转换成子类。作用：调用子类的特殊功能

```java
class A {
        public void print() {
            System.out.println("A output");
        }
    }

class B extends A {
        public void print() {
            System.out.println("B output");
        }
    }

public class test_demo {
    public static void main(String[] args) {
        A a = new B(); //向上转型
        B b = (B) a;  //向下转型
        b.print();       
    }
}
```
#### Output
```
B output
```
调用的具体方法：
1. 看实例化的类 （new）
2. new 的类中是否覆写了父类调用的方法

对于代码：**如果不使用向上转型，直接使用子类可以直接实例化，为什么要这么做呢？**
```new B().print();```
对于数据的操作主要分为两步：
* 第一步：设置数据（保存数据），最需要的是参数的统一；
* 第二部：取出数据

经验总结：
* 80% 情况下使用向上转型，实现参数的统一
* 5% 情况下使用向下转型，目的是调用子类的特殊方法。因为在进行向下转型操作之前，一定要首先发生向上转型，以建立两个对象之间的联系，如果没有这种联系，是不可能发生向下转型的，一旦发生了运行中就会出现“ClassCastException” 当需要调用子类自己特殊定义方法的时候，才需要向下转型。
* 15% 的情况是不转型的



